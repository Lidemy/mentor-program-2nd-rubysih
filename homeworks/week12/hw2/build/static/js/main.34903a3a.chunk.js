(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,n,a){"use strict";a.r(n);var t=a(0),r=a.n(t),o=a(8),c=a.n(o),i=a(6),l=a(1),s=a(2),u=a(4),h=a(3),f=a(5),b=function(e){function n(){var e,a;Object(l.a)(this,n);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(h.a)(n)).call.apply(e,[this].concat(r)))).handleClick=function(){if(!a.props.color){var e=a.props,n=e.index,t=e.onChangePlayer,r=(e.nowPlayer,e.onSetHistory);e.gameover||(r(n),t(n))}},a}return Object(f.a)(n,e),Object(s.a)(n,[{key:"render",value:function(){var e=this.props.color;return r.a.createElement("div",{className:"btn-square",onClick:this.handleClick},r.a.createElement("div",{className:"piece "+e}))}}]),n}(t.Component),k=function(e){function n(){var e,a;Object(l.a)(this,n);for(var t=arguments.length,o=new Array(t),c=0;c<t;c++)o[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(h.a)(n)).call.apply(e,[this].concat(o)))).renderSquare=function(e){return console.log("rendersquare"),r.a.createElement(b,{value:e})},a.handlePlayer=function(e){(0,a.props.onChangePlayer)(e)},a.handleHistory=function(e){(0,a.props.onSetHistory)(e)},a}return Object(f.a)(n,e),Object(s.a)(n,[{key:"render",value:function(){for(var e=this,n=this.props,a=n.size,t=n.nowPlayer,o=n.gameover,c=n.black,i=n.white,l=[],s=0;s<a;s++){l[s]=[];for(var u=0;u<a;u++)l[s][u]=[],l[s][u][0]=19*s+u+1,l[s][u][1]=""}return console.log(c,"black"),console.log(i,"white"),l.map(function(e){e.map(function(e){c.find(function(n){return n===e[0]})&&(e[1]="black"),i.find(function(n){return n===e[0]})&&(e[1]="white")})}),console.log(l),r.a.createElement("div",{className:"board"},l.map(function(n){return n.map(function(n){return r.a.createElement(b,{key:n[0],index:n[0],onChangePlayer:e.handlePlayer,nowPlayer:t,onSetHistory:e.handleHistory,gameover:o,color:n[1]})})}))}}]),n}(t.Component),m=function(e){function n(e){var a;return Object(l.a)(this,n),(a=Object(u.a)(this,Object(h.a)(n).call(this,e))).handlePlayer=function(e){var n=a.state,t=n.nowPlayer;if(!n.gameover){var r="black"===t?"white":"black";a.setState({nowPlayer:r}),a.handleWinner(t,e)}},a.handleHistory=function(e){var n=a.state,t=n.nowPlayer,r=n.gameover,o=n.black,c=n.white;r||("black"===t?a.setState({black:Object(i.a)(o).concat([e])}):a.setState({white:Object(i.a)(c).concat([e])}))},a.handleWinner=function(e,n){var t=a.state,r=t.black,o=t.white,c="black"===e?r:o;a.checkLine(n,c,1),a.checkLine(n,c,19),a.checkLine(n,c,20),a.checkLine(n,c,18)},a.checkLine=function(e,n,t){for(var r=1,o=function(a){if(!n.some(function(n){return n===e+a*t}))return"break";r++},c=1;c<5;c++){if("break"===o(c))break}if(!a.checkWin()){var i=function(a){if(!n.some(function(n){return n===e-a*t}))return"break";r++};for(c=1;c<5;c++){if("break"===i(c))break}a.checkWin(r)}},a.checkWin=function(e){if(5===e){var n=a.state.nowPlayer;return a.setState({winner:n,nowPlayer:"",gameover:!0}),!0}return!1},a.handleClick=function(){a.setState({nowPlayer:"black",winner:"",gameover:!1,black:[],white:[]})},a.state={nowPlayer:"black",winner:"",gameover:!1,black:[],white:[]},a}return Object(f.a)(n,e),Object(s.a)(n,[{key:"render",value:function(){var e=this.state,n=e.nowPlayer,a=e.winner,t=e.gameover;return r.a.createElement("div",{className:"game"},r.a.createElement("p",null,"\u76ee\u524d\u8f2a\u5230: ",r.a.createElement("span",null,n)),r.a.createElement("p",null,"\u7372\u52dd\u8005: ",r.a.createElement("span",null,a)),r.a.createElement("div",{className:"btn btn-again",onClick:this.handleClick},"\u91cd\u65b0\u958b\u59cb"),r.a.createElement(k,{size:19,nowPlayer:n,onChangePlayer:this.handlePlayer,onSetHistory:this.handleHistory,gameover:t,black:this.state.black,white:this.state.white}))}}]),n}(t.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(m,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,n,a){e.exports=a(14)}},[[9,2,1]]]);
//# sourceMappingURL=main.34903a3a.chunk.js.map