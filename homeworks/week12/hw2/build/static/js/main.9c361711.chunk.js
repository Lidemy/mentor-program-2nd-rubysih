(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(8),c=t.n(o),i=t(6),l=t(1),s=t(2),u=t(4),h=t(3),v=t(5),f=function(e){function n(e){var t;return Object(l.a)(this,n),(t=Object(u.a)(this,Object(h.a)(n).call(this,e))).handleClick=function(){if(!t.state.value){var e=t.props,n=e.index,a=e.onChangePlayer,r=e.nowPlayer,o=e.onSetHistory;e.gameover||(t.setState({value:r}),o(n),a(n))}},t.state={value:null},t}return Object(v.a)(n,e),Object(s.a)(n,[{key:"render",value:function(){var e=this.state.value;return r.a.createElement("div",{className:"btn-square",onClick:this.handleClick},r.a.createElement("div",{className:"piece "+e}))}}]),n}(a.Component),m=function(e){function n(e){var t;return Object(l.a)(this,n),(t=Object(u.a)(this,Object(h.a)(n).call(this,e))).renderSquare=function(e){return console.log("rendersquare"),r.a.createElement(f,{value:e})},t.handlePlayer=function(e){(0,t.props.onChangePlayer)(e)},t.handleHistory=function(e){(0,t.props.onSetHistory)(e)},t.state={black:[],white:[]},t}return Object(v.a)(n,e),Object(s.a)(n,[{key:"render",value:function(){for(var e=this,n=this.props,t=n.size,a=n.nowPlayer,o=n.gameover,c=[],i=0;i<t;i++){c[i]=[];for(var l=0;l<t;l++)c[i][l]=19*i+l+1}return r.a.createElement("div",{className:"board"},c.map(function(n){return n.map(function(n){return r.a.createElement(f,{key:n,index:n,onChangePlayer:e.handlePlayer,nowPlayer:a,onSetHistory:e.handleHistory,gameover:o})})}))}}]),n}(a.Component),b=function(e){function n(e){var t;return Object(l.a)(this,n),(t=Object(u.a)(this,Object(h.a)(n).call(this,e))).handlePlayer=function(e){var n=t.state,a=n.nowPlayer;if(!n.gameover){var r="black"===a?"white":"black";t.setState({nowPlayer:r}),t.handleWinner(a,e)}},t.handleHistory=function(e){var n=t.state,a=n.nowPlayer,r=n.gameover,o=n.black,c=n.white;r||("black"===a?t.setState({black:Object(i.a)(o).concat([e])}):t.setState({white:Object(i.a)(c).concat([e])}))},t.handleWinner=function(e,n){var a=t.state,r=a.black,o=a.white,c="black"===e?r:o;t.checkLine(n,c,1),t.checkLine(n,c,19),t.checkLine(n,c,20),t.checkLine(n,c,18)},t.checkLine=function(e,n,a){for(var r=1,o=function(t){if(!n.some(function(n){return n===e+t*a}))return"break";r++},c=1;c<5;c++){if("break"===o(c))break}if(!t.checkWin()){var i=function(t){if(!n.some(function(n){return n===e-t*a}))return"break";r++};for(c=1;c<5;c++){if("break"===i(c))break}t.checkWin(r)}},t.checkWin=function(e){if(5===e){var n=t.state.nowPlayer;return t.setState({winner:n,nowPlayer:"",gameover:!0}),!0}return!1},t.state={nowPlayer:"black",winner:"",gameover:!1,black:[],white:[]},t}return Object(v.a)(n,e),Object(s.a)(n,[{key:"render",value:function(){var e=this.state,n=e.nowPlayer,t=e.winner,a=e.gameover;return r.a.createElement("div",{className:"game"},r.a.createElement("p",null,"\u76ee\u524d\u8f2a\u5230: ",r.a.createElement("span",null,n)),r.a.createElement("p",null,"\u7372\u52dd\u8005: ",r.a.createElement("span",null,t)),r.a.createElement(m,{size:19,nowPlayer:n,onChangePlayer:this.handlePlayer,onSetHistory:this.handleHistory,gameover:a}))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,n,t){e.exports=t(14)}},[[9,2,1]]]);
//# sourceMappingURL=main.9c361711.chunk.js.map